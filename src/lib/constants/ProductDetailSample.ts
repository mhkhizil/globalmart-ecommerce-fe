import { ProductDetail } from '@/core/entity/Product';

export const ProductDetailSamples: ProductDetail[] = [
  {
    id: 1,
    m_id: 1,
    m_name: 'Global Mart Electronics',
    shop_name: 'Global Electronics',
    c_id: 1,
    c_name: 'Smartphones',
    p_id: 1,
    p_name: 'iPhone 14 Pro Max',
    discount_type: 'percentage',
    discount_percent: 5,
    discount_amount: '50',
    en_description:
      'Latest iPhone with A16 Bionic chip, 48MP camera and Dynamic Island display feature.',
    mm_description: null,
    th_description: null,
    cn_description: null,
    p_price: 1099.99,
    p_stock: 50,
    p_is_available: 1,
    p_sortBy: 1,
    p_image:
      'https://utfs.io/f/4PbNtc78sfabebTNI40IO5hJSdVjPDtZ6LzRoiYyX08lFv2b',
    product_image: [
      {
        id: 1,
        p_id: 1,
        link: 'https://utfs.io/f/4PbNtc78sfabebTNI40IO5hJSdVjPDtZ6LzRoiYyX08lFv2b',
        type: 1,
        created_at: '2023-02-08T22:01:29.000000Z',
        updated_at: '2023-02-08T22:01:29.000000Z',
      },
      {
        id: 2,
        p_id: 1,
        link: 'https://utfs.io/f/4PbNtc78sfaboKvhZylr0zIQTysu7q8hHxlNEJRnawVBei3G',
        type: 1,
        created_at: '2023-02-08T22:01:29.000000Z',
        updated_at: '2023-02-08T22:01:29.000000Z',
      },
    ],
  },
  {
    id: 2,
    m_id: 1,
    m_name: 'Global Mart Electronics',
    shop_name: 'Global Electronics',
    c_id: 1,
    c_name: 'Smartphones',
    p_id: 2,
    p_name: 'Samsung Galaxy S23 Ultra',
    discount_type: 'fixed',
    discount_percent: 0,
    discount_amount: '100',
    en_description:
      'Premium Android smartphone with 200MP camera, S Pen included and powerful Snapdragon processor.',
    mm_description: null,
    th_description: null,
    cn_description: null,
    p_price: 1199.99,
    p_stock: 45,
    p_is_available: 1,
    p_sortBy: 2,
    p_image:
      'https://utfs.io/f/4PbNtc78sfaboKvhZylr0zIQTysu7q8hHxlNEJRnawVBei3G',
    product_image: [
      {
        id: 3,
        p_id: 2,
        link: 'https://utfs.io/f/4PbNtc78sfaboKvhZylr0zIQTysu7q8hHxlNEJRnawVBei3G',
        type: 1,
        created_at: '2023-02-08T22:01:29.000000Z',
        updated_at: '2023-02-08T22:01:29.000000Z',
      },
    ],
  },
  {
    id: 3,
    m_id: 2,
    m_name: 'Global Mart Home',
    shop_name: 'Home & Living',
    c_id: 2,
    c_name: 'Home Appliances',
    p_id: 3,
    p_name: 'OLED 4K Smart TV 65"',
    discount_type: 'percentage',
    discount_percent: 10,
    discount_amount: '0',
    en_description:
      'Ultra HD Smart TV with OLED display, perfect for movie nights and gaming with 120Hz refresh rate.',
    mm_description: null,
    th_description: null,
    cn_description: null,
    p_price: 1899.99,
    p_stock: 20,
    p_is_available: 1,
    p_sortBy: 1,
    p_image:
      'https://utfs.io/f/4PbNtc78sfabebTNI40IO5hJSdVjPDtZ6LzRoiYyX08lFv2b',
    product_image: [
      {
        id: 4,
        p_id: 3,
        link: 'https://utfs.io/f/4PbNtc78sfabebTNI40IO5hJSdVjPDtZ6LzRoiYyX08lFv2b',
        type: 1,
        created_at: '2023-02-08T22:01:29.000000Z',
        updated_at: '2023-02-08T22:01:29.000000Z',
      },
    ],
  },
  {
    id: 4,
    m_id: 3,
    m_name: 'Global Mart Fashion',
    shop_name: 'Fashion Gallery',
    c_id: 3,
    c_name: 'Clothing',
    p_id: 4,
    p_name: 'Premium Leather Jacket',
    discount_type: 'fixed',
    discount_percent: 0,
    discount_amount: '30',
    en_description:
      'Genuine leather jacket with premium stitching and comfortable lining perfect for all seasons.',
    mm_description: null,
    th_description: null,
    cn_description: null,
    p_price: 299.99,
    p_stock: 35,
    p_is_available: 1,
    p_sortBy: 3,
    p_image:
      'https://utfs.io/f/4PbNtc78sfaboKvhZylr0zIQTysu7q8hHxlNEJRnawVBei3G',
    product_image: [
      {
        id: 5,
        p_id: 4,
        link: 'https://utfs.io/f/4PbNtc78sfaboKvhZylr0zIQTysu7q8hHxlNEJRnawVBei3G',
        type: 1,
        created_at: '2023-02-08T22:01:29.000000Z',
        updated_at: '2023-02-08T22:01:29.000000Z',
      },
    ],
  },
  {
    id: 5,
    m_id: 4,
    m_name: 'Global Mart Sports',
    shop_name: 'Sports Hub',
    c_id: 4,
    c_name: 'Fitness',
    p_id: 5,
    p_name: 'Smart Fitness Tracker',
    discount_type: 'percentage',
    discount_percent: 15,
    discount_amount: '0',
    en_description:
      'Track your workouts, heart rate, sleep and more with this water-resistant fitness band.',
    mm_description: null,
    th_description: null,
    cn_description: null,
    p_price: 129.99,
    p_stock: 100,
    p_is_available: 1,
    p_sortBy: 2,
    p_image:
      'https://utfs.io/f/4PbNtc78sfabebTNI40IO5hJSdVjPDtZ6LzRoiYyX08lFv2b',
    product_image: [
      {
        id: 6,
        p_id: 5,
        link: 'https://utfs.io/f/4PbNtc78sfabebTNI40IO5hJSdVjPDtZ6LzRoiYyX08lFv2b',
        type: 1,
        created_at: '2023-02-08T22:01:29.000000Z',
        updated_at: '2023-02-08T22:01:29.000000Z',
      },
    ],
  },
  {
    id: 6,
    m_id: 5,
    m_name: 'Global Mart Books',
    shop_name: 'Book Corner',
    c_id: 5,
    c_name: 'Books',
    p_id: 6,
    p_name: 'Best Selling Novel Collection',
    discount_type: 'percentage',
    discount_percent: 20,
    discount_amount: '0',
    en_description:
      'Collection of the top 5 best selling novels of 2023, perfect gift for book lovers.',
    mm_description: null,
    th_description: null,
    cn_description: null,
    p_price: 89.99,
    p_stock: 75,
    p_is_available: 1,
    p_sortBy: 4,
    p_image:
      'https://utfs.io/f/4PbNtc78sfaboKvhZylr0zIQTysu7q8hHxlNEJRnawVBei3G',
    product_image: [
      {
        id: 7,
        p_id: 6,
        link: 'https://utfs.io/f/4PbNtc78sfaboKvhZylr0zIQTysu7q8hHxlNEJRnawVBei3G',
        type: 1,
        created_at: '2023-02-08T22:01:29.000000Z',
        updated_at: '2023-02-08T22:01:29.000000Z',
      },
    ],
  },
];

// Function to get product details by ID
export const getProductDetailById = (
  id: string | number
): ProductDetail | undefined => {
  const numericId = typeof id === 'string' ? parseInt(id, 10) : id;
  return ProductDetailSamples.find(product => product.id === numericId);
};

// Function to get products by category ID
export const getProductsByCategory = (
  categoryId: string | number
): ProductDetail[] => {
  const numericId =
    typeof categoryId === 'string' ? parseInt(categoryId, 10) : categoryId;
  return ProductDetailSamples.filter(product => product.c_id === numericId);
};

// Function to get products by shop/merchant ID
export const getProductsByShop = (shopId: string | number): ProductDetail[] => {
  const numericId = typeof shopId === 'string' ? parseInt(shopId, 10) : shopId;
  return ProductDetailSamples.filter(product => product.m_id === numericId);
};

// Function to get filtered products with pagination
export const getFilteredProducts = (
  page: number = 1,
  perPage: number = 10,
  categoryIds?: number[],
  shopIds?: number[]
): { product: ProductDetail[]; total: number } => {
  let filteredProducts = [...ProductDetailSamples];

  // Apply category filter if provided
  if (categoryIds && categoryIds.length > 0) {
    filteredProducts = filteredProducts.filter(product =>
      categoryIds.includes(product.c_id)
    );
  }

  // Apply shop filter if provided
  if (shopIds && shopIds.length > 0) {
    filteredProducts = filteredProducts.filter(product =>
      shopIds.includes(product.m_id)
    );
  }

  // Calculate pagination
  const startIndex = (page - 1) * perPage;
  const endIndex = startIndex + perPage;
  const paginatedProducts = filteredProducts.slice(startIndex, endIndex);

  return {
    product: paginatedProducts,
    total: filteredProducts.length,
  };
};
